#
# interfaces configuration
#
# !!! THIS FILE IS MANAGED !!!
# !!! CHANGES WILL BE LOST !!!
#

auto lo
iface lo inet loopback

{%- for name,interface in interfaces.iteritems() %}

# {{ name }}
# {{ interface.get('comment','') }}
#
{%- if (interface.enabled is defined) and (interface.enabled is sameas true) %}
auto {{ name }}
{%- endif %}
{% if interface.type == "inet6" %}
iface {{ name }} {{ interface.type }} {{ interface.proto }}
  address {{ interface.address }}
  netmask {{ interface.netmask }}
  up /etc/network/routes
{% else %}
iface {{ name }} {{ interface.type }} {{ interface.proto }}
  address {{ interface.address }}/{{ interface.netmask }}
  up /etc/network/routes
{% endif %}  
{%- endfor %}
